const request = require('./request')

module.exports = async (endpoint, token) => {
    const response = await request('/joinClassList', 'POST', {}, endpoint, {'Authorization': token});
    const list = await request('/join', 'POST', response.classList[0], endpoint, {'Authorization': token});
    let result = {};
    for(let i=0; i<list.joinList.length; i++) {
        result[list.joinList[i]['name']] = list.joinList[i]['surveyYn'];
    }
    return result;
}